<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" template="/template/template.xhtml">

	<ui:define name="cuerpo">
		<h:form prependId="false" id="gestion">
			<p:tabView id="tablaContent">
			<p:tab title="Activar Usuarios" dynamic="true" cache="true">			
				<p:accordionPanel id="panelTablaEmp" >
					<p:tab title="Listado de Usuarios para Activar y Desactivar">
						<p:dataTable value="#{usuarioController.usuarios}" id="tabla"
							var="u" border="1">
							
							<p:column>
								<f:facet name="header">
								cedula
							</f:facet>
								<p:outputLabel value="#{u.persona.cedula}" />
							</p:column>
							
							<p:column>
								<f:facet name="header">
								Nombre
							</f:facet>
								<p:outputLabel value="#{u.persona.nombre}" />
							</p:column>
							
							<p:column>
								<f:facet name="header">
								Apellido
							</f:facet>
								<p:outputLabel value="#{u.persona.apellido}" />
							</p:column>
							
							<p:column>
								<f:facet name="header">
								Rol
							</f:facet>
								<p:outputLabel value="#{u.persona.rol.nombre}" />
							</p:column>
							
							<p:column>
								<f:facet name="header">
								Username
							</f:facet>
								<p:outputLabel value="#{u.username}" />
							</p:column>
							
							<p:column>
								<f:facet name="header">
								Accion
							</f:facet>
								<p:commandButton rendered="#{u.estado == false}" action="#{usuarioController.cambiarEstado(u,true)}" value="Activar" update="tabla" process="@this,gestion" id="btnactivar"/>
								<p:commandButton rendered="#{u.estado == true}" action="#{usuarioController.cambiarEstado(u,false)}" value="Desactivar" update="tabla" process="@this,gestion" id="btndesactivar"/>
							</p:column>
													
						</p:dataTable>
					</p:tab>
				</p:accordionPanel>
				</p:tab>
			</p:tabView>
		</h:form>
	</ui:define>

</ui:composition>